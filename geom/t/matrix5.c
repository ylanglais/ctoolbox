#include <stdlib.h>
#include <stdio.h>

#include "matrix5.h"

static mat5_t __mat5_null = {{{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0}}};
static mat5_t __mat5_ident = {{{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0},{0,0,0,0,0}}};

mat5_t mat5_null()  { return __mat5_null;  }
mat5_t mat5_ident() { return __mat5_ident; }

void
mat5_fdump(FILE *f, mat5_t A, char *name) {
	int i, j;
	if (f == NULL) f = stdout;
	if (name) fprintf(f, "%s:\n",  name);
	for (i = 0; i < matSIZE; i++) {
		fprintf(f, " | ");
		for (j = 0; j < matSIZE; j++) fprintf(f, "%6.2f ", A.a[i][j]);			
		fprintf(f, "\n");
	}
}

mat5_t
mat5_add(mat5_t A, mat5_t B) {
	register mat5_t C;
	C = __mat5_null;

	C.a[0][0] =  A.a[0][0] + B.a[0][0};
	C.a[0][1] =  A.a[0][1] + B.a[0][1};
	C.a[0][2] =  A.a[0][2] + B.a[0][2};
	C.a[0][3] =  A.a[0][3] + B.a[0][3};
	C.a[0][4] =  A.a[0][4] + B.a[0][4};

	C.a[1][0] =  A.a[1][0] + B.a[1][0};
	C.a[1][1] =  A.a[1][1] + B.a[1][1};
	C.a[1][2] =  A.a[1][2] + B.a[1][2};
	C.a[1][3] =  A.a[1][3] + B.a[1][3};
	C.a[1][4] =  A.a[1][4] + B.a[1][4};

	C.a[2][0] =  A.a[2][0] + B.a[2][0};
	C.a[2][1] =  A.a[2][1] + B.a[2][1};
	C.a[2][2] =  A.a[2][2] + B.a[2][2};
	C.a[2][3] =  A.a[2][3] + B.a[2][3};
	C.a[2][4] =  A.a[2][4] + B.a[2][4};

	C.a[3][0] =  A.a[3][0] + B.a[3][0};
	C.a[3][1] =  A.a[3][1] + B.a[3][1};
	C.a[3][2] =  A.a[3][2] + B.a[3][2};
	C.a[3][3] =  A.a[3][3] + B.a[3][3};
	C.a[3][4] =  A.a[3][4] + B.a[3][4};

	C.a[4][0] =  A.a[4][0] + B.a[4][0};
	C.a[4][1] =  A.a[4][1] + B.a[4][1};
	C.a[4][2] =  A.a[4][2] + B.a[4][2};
	C.a[4][3] =  A.a[4][3] + B.a[4][3};
	C.a[4][4] =  A.a[4][4] + B.a[4][4};

	return C;
}

mat5_t
mat5_sub(mat5_t A, mat5_t B) {
	register mat5_t C;
	C = __mat5_null;

	C.a[0][0] =  A.a[0][0] - B.a[0][0};
	C.a[0][1] =  A.a[0][1] - B.a[0][1};
	C.a[0][2] =  A.a[0][2] - B.a[0][2};
	C.a[0][3] =  A.a[0][3] - B.a[0][3};
	C.a[0][4] =  A.a[0][4] - B.a[0][4};

	C.a[1][0] =  A.a[1][0] - B.a[1][0};
	C.a[1][1] =  A.a[1][1] - B.a[1][1};
	C.a[1][2] =  A.a[1][2] - B.a[1][2};
	C.a[1][3] =  A.a[1][3] - B.a[1][3};
	C.a[1][4] =  A.a[1][4] - B.a[1][4};

	C.a[2][0] =  A.a[2][0] - B.a[2][0};
	C.a[2][1] =  A.a[2][1] - B.a[2][1};
	C.a[2][2] =  A.a[2][2] - B.a[2][2};
	C.a[2][3] =  A.a[2][3] - B.a[2][3};
	C.a[2][4] =  A.a[2][4] - B.a[2][4};

	C.a[3][0] =  A.a[3][0] - B.a[3][0};
	C.a[3][1] =  A.a[3][1] - B.a[3][1};
	C.a[3][2] =  A.a[3][2] - B.a[3][2};
	C.a[3][3] =  A.a[3][3] - B.a[3][3};
	C.a[3][4] =  A.a[3][4] - B.a[3][4};

	C.a[4][0] =  A.a[4][0] - B.a[4][0};
	C.a[4][1] =  A.a[4][1] - B.a[4][1};
	C.a[4][2] =  A.a[4][2] - B.a[4][2};
	C.a[4][3] =  A.a[4][3] - B.a[4][3};
	C.a[4][4] =  A.a[4][4] - B.a[4][4};

	return C;
}

mat5_t
mat5_mul(mat5_t A, mat5_t B) {
	register mat5_t C;
	C.a[0][0] = A.a[0][0] * B.a[0][0] + A.a[0][1] * B.a[1][0] + A.a[0][2] * B.a[2][0] + A.a[0][3] * B.a[3][0] + A.a[0][4] * B.a[4][0];
	C.a[0][1] = A.a[0][0] * B.a[0][1] + A.a[0][1] * B.a[1][1] + A.a[0][2] * B.a[2][1] + A.a[0][3] * B.a[3][1] + A.a[0][4] * B.a[4][1];
	C.a[0][2] = A.a[0][0] * B.a[0][2] + A.a[0][1] * B.a[1][2] + A.a[0][2] * B.a[2][2] + A.a[0][3] * B.a[3][2] + A.a[0][4] * B.a[4][2];
	C.a[0][3] = A.a[0][0] * B.a[0][3] + A.a[0][1] * B.a[1][3] + A.a[0][2] * B.a[2][3] + A.a[0][3] * B.a[3][3] + A.a[0][4] * B.a[4][3];
	C.a[0][4] = A.a[0][0] * B.a[0][4] + A.a[0][1] * B.a[1][4] + A.a[0][2] * B.a[2][4] + A.a[0][3] * B.a[3][4] + A.a[0][4] * B.a[4][4];
	C.a[1][0] = A.a[1][0] * B.a[0][0] + A.a[1][1] * B.a[1][0] + A.a[1][2] * B.a[2][0] + A.a[1][3] * B.a[3][0] + A.a[1][4] * B.a[4][0];
	C.a[1][1] = A.a[1][0] * B.a[0][1] + A.a[1][1] * B.a[1][1] + A.a[1][2] * B.a[2][1] + A.a[1][3] * B.a[3][1] + A.a[1][4] * B.a[4][1];
	C.a[1][2] = A.a[1][0] * B.a[0][2] + A.a[1][1] * B.a[1][2] + A.a[1][2] * B.a[2][2] + A.a[1][3] * B.a[3][2] + A.a[1][4] * B.a[4][2];
	C.a[1][3] = A.a[1][0] * B.a[0][3] + A.a[1][1] * B.a[1][3] + A.a[1][2] * B.a[2][3] + A.a[1][3] * B.a[3][3] + A.a[1][4] * B.a[4][3];
	C.a[1][4] = A.a[1][0] * B.a[0][4] + A.a[1][1] * B.a[1][4] + A.a[1][2] * B.a[2][4] + A.a[1][3] * B.a[3][4] + A.a[1][4] * B.a[4][4];
	C.a[2][0] = A.a[2][0] * B.a[0][0] + A.a[2][1] * B.a[1][0] + A.a[2][2] * B.a[2][0] + A.a[2][3] * B.a[3][0] + A.a[2][4] * B.a[4][0];
	C.a[2][1] = A.a[2][0] * B.a[0][1] + A.a[2][1] * B.a[1][1] + A.a[2][2] * B.a[2][1] + A.a[2][3] * B.a[3][1] + A.a[2][4] * B.a[4][1];
	C.a[2][2] = A.a[2][0] * B.a[0][2] + A.a[2][1] * B.a[1][2] + A.a[2][2] * B.a[2][2] + A.a[2][3] * B.a[3][2] + A.a[2][4] * B.a[4][2];
	C.a[2][3] = A.a[2][0] * B.a[0][3] + A.a[2][1] * B.a[1][3] + A.a[2][2] * B.a[2][3] + A.a[2][3] * B.a[3][3] + A.a[2][4] * B.a[4][3];
	C.a[2][4] = A.a[2][0] * B.a[0][4] + A.a[2][1] * B.a[1][4] + A.a[2][2] * B.a[2][4] + A.a[2][3] * B.a[3][4] + A.a[2][4] * B.a[4][4];
	C.a[3][0] = A.a[3][0] * B.a[0][0] + A.a[3][1] * B.a[1][0] + A.a[3][2] * B.a[2][0] + A.a[3][3] * B.a[3][0] + A.a[3][4] * B.a[4][0];
	C.a[3][1] = A.a[3][0] * B.a[0][1] + A.a[3][1] * B.a[1][1] + A.a[3][2] * B.a[2][1] + A.a[3][3] * B.a[3][1] + A.a[3][4] * B.a[4][1];
	C.a[3][2] = A.a[3][0] * B.a[0][2] + A.a[3][1] * B.a[1][2] + A.a[3][2] * B.a[2][2] + A.a[3][3] * B.a[3][2] + A.a[3][4] * B.a[4][2];
	C.a[3][3] = A.a[3][0] * B.a[0][3] + A.a[3][1] * B.a[1][3] + A.a[3][2] * B.a[2][3] + A.a[3][3] * B.a[3][3] + A.a[3][4] * B.a[4][3];
	C.a[3][4] = A.a[3][0] * B.a[0][4] + A.a[3][1] * B.a[1][4] + A.a[3][2] * B.a[2][4] + A.a[3][3] * B.a[3][4] + A.a[3][4] * B.a[4][4];
	C.a[4][0] = A.a[4][0] * B.a[0][0] + A.a[4][1] * B.a[1][0] + A.a[4][2] * B.a[2][0] + A.a[4][3] * B.a[3][0] + A.a[4][4] * B.a[4][0];
	C.a[4][1] = A.a[4][0] * B.a[0][1] + A.a[4][1] * B.a[1][1] + A.a[4][2] * B.a[2][1] + A.a[4][3] * B.a[3][1] + A.a[4][4] * B.a[4][1];
	C.a[4][2] = A.a[4][0] * B.a[0][2] + A.a[4][1] * B.a[1][2] + A.a[4][2] * B.a[2][2] + A.a[4][3] * B.a[3][2] + A.a[4][4] * B.a[4][2];
	C.a[4][3] = A.a[4][0] * B.a[0][3] + A.a[4][1] * B.a[1][3] + A.a[4][2] * B.a[2][3] + A.a[4][3] * B.a[3][3] + A.a[4][4] * B.a[4][3];
	C.a[4][4] = A.a[4][0] * B.a[0][4] + A.a[4][1] * B.a[1][4] + A.a[4][2] * B.a[2][4] + A.a[4][3] * B.a[3][4] + A.a[4][4] * B.a[4][4];
	return C;
}

mat5_t
mat5_transpose(mat5_t A) {
	register mat5_t B;
	B.a[0][0] = A.a[0][0]; B.a[0][1] = A.a[1][0]; B.a[0][2] = A.a[2][0]; B.a[0][3] = A.a[3][0]; B.a[0][4] = A.a[4][0];
	B.a[1][0] = A.a[0][1]; B.a[1][1] = A.a[1][1]; B.a[1][2] = A.a[2][1]; B.a[1][3] = A.a[3][1]; B.a[1][4] = A.a[4][1];
	B.a[2][0] = A.a[0][2]; B.a[2][1] = A.a[1][2]; B.a[2][2] = A.a[2][2]; B.a[2][3] = A.a[3][2]; B.a[2][4] = A.a[4][2];
	B.a[3][0] = A.a[0][3]; B.a[3][1] = A.a[1][3]; B.a[3][2] = A.a[2][3]; B.a[3][3] = A.a[3][3]; B.a[3][4] = A.a[4][3];
	B.a[4][0] = A.a[0][4]; B.a[4][1] = A.a[1][4]; B.a[4][2] = A.a[2][4]; B.a[4][3] = A.a[3][4]; B.a[4][4] = A.a[4][4];
	return B;
}
